# 小米工程师训练营-C++参与体验

以下数字皆为约数：

- 本校今年报名人数 470 人，凭简历和就职意愿筛选了 270 人入营（未来意向填“升学”的同学很容易被筛掉）
- C++ 150 人，Android 120 人

## C++的学习内容

![C++学习内容](468ea59871bed1fd1c326c48c1c6e36c-1.png)

### 详细介绍

**Day 01：配置 C++环境，熟悉 git 操作**

基本没什么可说的，我使用 macOS 开发，没有用到小米提供的 Ubuntu 虚拟机（人家本来也没打算给 Mac 用户使用，Ubuntu 虚拟机基本配好了小米训练营过程中所需要的环境，但小米只提供了 x86 架构的.ova 文件）。有关 git 操作，其实只要会最常用的几句就行了。而且其实也没必要学，在 VSCode 中进行源代码管理远比从终端写命令方便得多。

**Day 02 ～ Day 04：简单的 C++基础编程**

每天几道练习题，详见我的仓库，每天的 README 中有详细的题目要求。读者当然不大可能遇到题目完全一样的情况，不过可以参考。这几天比较轻松，我们的授课老师习惯于讲一会儿课布置一道题，所以基本可以在下课前完成作业，回寝室爽开摆。

**Day 05：多线程编程**

稍微上点难度，而且多线程中的很多概念还是需要理解，大作业会用到。但题目仍然很简单，请读者务必善用 AI 编程工具，可以极大提升舒适度。

**Day 06：网络编程**

难度可以类比 Day 05，如果学过计算机网络就很容易理解，作业也不算难，我们的大作业也没有涉及。

**Day 07：Android 基础知识**

个人感觉还是有点难度，首先上课的一半时间在配环境，Android 要下载的东西那么多，最后大作业一点没用上，晕 😵‍💫。而且作为完全没有了解过 Android 的同学，要理解 C++和 Java 之间相互调用的关系，个人感觉还是有难度的，不过 AI 可做，个人是水过。

**Day 08：交叉编译**

难度开始提升了，写这篇文档的时候我才发现当时的作业做得好像有点问题，晕了。这是我第一次花一晚上做作业，也是第二周的日常。不过听课的作用，有但不多，交叉编译这个东西个人感觉比较玄学，基本没人懂，主要看你的 AI 给不给力。

**Day 09：音视频**

有关 ffmpeg 的内容是我们这次训练营的重点，也是最难的点，当天的作业除了练习使用 ffmpeg 的一些基础 API 之外，还要编译一个 Android 下 ARMv8 或 ARMv7 的 FFmpeg 库。这个难倒很多同学，不过我可能是运气比较好，也可能是因为使用 Mac，很容易就通过了。附加题是在 Android 实现 mp4 转 yuv，使用之前编译的 so 库，只能说这个算是比较有难度的，很多同学在第二天才实现。

**Day 10 ～ 11：图形学相关**

Day 10 讲 OpenGL，我是水过，Day 11 的第一个作业使用 Libdrm，我懒得找在 macOS 上安装的方法，或许能实现但有点难，不过只是截几张图，说白了老师也就是让大伙了解一下，也是水过。噢对了顺便一说网络编程那天的 wireshark 我也是找舍友借电脑截几张图，水过了。只能说这个训练营善用 AI 和舍友能省不少功夫（逃

**Day 12：最水的一天**

什么职业大神面对面，实则是上午一个 hr 讲简历如何写+一个本校学长（几年前入职的）讲小米经历+答疑，下午回机房听老师串讲过去 11 天的知识内容，无作业。

**Day 13 ～ Day 15：大作业**

大作业的详细要求可以参照这张图：
![大作业要求](1bc51b00238ae8d56d23de4010a9b4aa.png)

其中第一天的内容是将 mp4 解码为 yuv 和 pcm，这里有聪明的同学就会想了，诶我之前在附加题不是实现了吗，这不是轻轻松松？诶，没错！可惜难题不在这里。小米要求要把 ffmpeg 编译成一个独立的动态链接库，也就是说不允许你使用多个 so 文件，而是必须使用一个单独的，总之这个挺难搞的，我搞了几个小时都没搞成，最后开摆了，找搞好的同学要了一个（神中神，没 hxd 我大作业第一天就要退了）。不过这个编译好的 ffmpeg 的动态链接库在 macOS 上依然是不负众望地用不了，于是我开发的大作业是兼容双系统，在 macOS 上使用 homebrew 安装的 ffmpeg，而在 Ubuntu 上使用那个动态链接库。不过很遗憾由于我没有 Ubuntu（其实确实是懒得搞，如果花功夫也是能在 macOS 上装一个的，退一步讲我还有个 Windows 的笔记本，不过实在是懒）我开发的程序在 macOS 上运行是无误的，而在 Ubuntu 上总有奇奇怪怪的 bug，不过编译也能通过就是了，如果有幸运读者抽到和我一道题的话，应该改改也能跑。

第二天呢，就是实现 mp4 解码成 yuv 后，使用滤镜旋转 90 度再编码为 mpeg4 格式封装起来，而第三天就是把 mp4 解码为 pcm 后，使用滤镜倍速再编码为 ac3（不知道是什么抽象格式，有点难搞）然后把 ac3 和倍速后的 mpeg4 封装成一个 mp4 格式的音视频。

整体而言大作业的难度个人感觉适中，关键还是善用 AI，善用 AI，善用 AI（重要的事情说三遍）。

## 一些小 tips

1. 小米会每天早上在腾讯会议投屏签到码，这是每天查考勤的唯一方法。这个小米训练营是早上八点十五到中午大约十二点+中午一点半到下午大约五点一刻，如果真的很累就大方逃吧，基本没什么影响。不过一定要有同学去上课才行啊，要记住作业是什么才行。
2. 平时回答问题会发卡牌，每天下课时回收，卡牌数前两名会获得一些小奖品，奖品随机且晚上才会揭晓，大致有这么几档：实用的有体重秤/鼠标垫什么的，不过大部分情况下是书，有的有点技术含量不过我相信也没人会看，有的是雷军成功学什么的，类比《从 letme 到严君泽》。因此聪明的同学可能会想到，诶我把几天回答问题的卡牌攒起来，或者找周边卡牌数量无望冲击前二的 hxd 们要些卡牌，不就可以拿到奖了吗？事实上这是完全可以的，因为讲师如果发牌多，是记不住自己发了多少牌的。不过有的讲师一天就发一两张牌的话还是别这么做了。
3. 经过楼主 15 天高强度使用 AI 的经验，总结了如何最大化 AI 的作用：最好用的肯定是 cursor，真正化身抖音工程师：边写代码边刷抖音，cursor 可以去淘宝买共享账号，别买额度！额度很容易降智，pro 账号的 fast request 用完只会降速（富哥随意）。把题目要求发给 ChatGPT 让它帮忙写提示词，然后用提示词给 cursor 的 Claude3.7sonnet 下指令是效率最高的，谁用谁知道。如果有实在解决不了的方法，那还是用 grok3 的 thinking 模式吧，准确率很高可惜免费额度太少了，马斯克你黑心啊！总之善用 AI 的你应该可以和楼主一样 15 天写 0 行代码顺利结营（逃）
4. 写 README 或许会更容易得高分（未验证）。GitHub Copilot 可以用来优化 md 文档的格式，个人感觉很好用。主动当组长，把项目结构划分清楚这些小事应该也会加分（？）
